(this["webpackJsonpprogess-bars"]=this["webpackJsonpprogess-bars"]||[]).push([[0],{126:function(e,t,a){e.exports=a(216)},131:function(e,t,a){},194:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),i=a.n(c),o=(a(131),a(25)),s=a(44),l=(a(58),a(16)),u=a(81),m=a.n(u),d=a(49),b=a(221),f=a(112),h=a(113),p=a(82),g=a.n(p),v=function(e){throw new Error(e)},E=function(e){try{var t=e.status,a=e.statusText,n=e.data;return 200===t?n:v(a||"API request failed.")}catch(r){return v("API request failed.")}},y=function(e){try{var t=e.response;return v(t.data.message||"API request failed.")}catch(a){return v("API request failed.")}},I=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"post",value:function(t,a,n){return g.a.post(t,a,Object(d.a)({},e.defaultConfigs,{},n)).then(E).catch(y)}},{key:"get",value:function(t,a,n){return g.a.get(t,a,Object(d.a)({},e.defaultConfigs,{},n)).then(E).catch(y)}}]),e}();I.defaultConfigs={timeout:5e3};var w={buttons:[],bars:[],limit:9999,currentBarIndex:0,loading:!0},B=Object(s.b)({name:"bar",initialState:w,reducers:{showLoading:function(e){e.loading=!0},hideLoading:function(e){e.loading=!1},fetchBarDataDone:function(e,t){var a=t.payload,n=a.buttons,r=a.bars,c=a.limit;e.buttons=n||w.buttons,e.bars=r||w.bars,e.limit=c||w.limit},changeActiveBar:function(e,t){e.currentBarIndex=t.payload.barIndex},changeBarValue:function(e,t){var a=t.payload.point,n=e.currentBarIndex,r=e.bars[n]+a;r<0&&(r=0),e.bars[n]=r}}}),x=B.actions,O=x.changeActiveBar,j=x.changeBarValue,k=x.fetchBarDataDone,N=x.showLoading,A=x.hideLoading,C=function(){return function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e(N()),a.next=4,m.a.awrap(I.get("".concat("https://pb-api.herokuapp.com","/bars")));case 4:t=a.sent,e(A()),e(k(Object(d.a)({},t))),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),e(A()),b.a.error({message:a.t0.message}),console.log(a.t0);case 14:case"end":return a.stop()}}),null,null,[[0,9]])}},D=B.reducer,L=Object(l.combineReducers)({bar:D});var P=Object(s.a)({reducer:L}),T=(a(194),a(195),a(218)),V=a(222),q=a(220),R=Object(o.b)((function(e){return{loading:e.bar.loading}}))((function(e){var t=e.dispatch,a=e.loading;Object(n.useEffect)((function(){t(C())}),[]);return a?r.a.createElement("div",{className:"appContainer"},r.a.createElement(T.a,{size:"large","data-testid":"appLoading"})):r.a.createElement("div",{className:"appDefaultContainer"},r.a.createElement("div",{"data-testid":"appDefault"},r.a.createElement(V.a,{status:"warning",title:"There are some problems with your connection.",extra:r.a.createElement(q.a,{type:"primary",key:"retry",style:{width:100},onClick:function(){t(C())}},"Retry")})))})),H=a(219),J=a(3),W=a.n(J),z=function(e){var t=e.active,a=e.limit,n=e.value,c=Math.floor(n/a*100),i=c<100?c:100,o=W()("barItemHighlight",n>a?"barItemLimit":"",t?"barItemActive":"barItemInactive"),s=W()("barItemTextValue",i<55?"barItemTextValueNegative":"");return r.a.createElement("div",{className:"barItem"},r.a.createElement("div",{"data-testid":"barItemHightlight",className:o,style:{width:"".concat(i,"%")}}),r.a.createElement("span",{"data-testid":"barItemValue",className:s},c,"%"))},M=H.a.Option,S=Object(o.b)((function(e){var t=e.bar,a=t.bars,n=t.limit;return{bars:a,buttons:t.buttons,currentBarIndex:t.currentBarIndex,limit:n}}))((function(e){var t=e.dispatch,a=e.bars,n=e.limit,c=e.buttons,i=e.currentBarIndex,o=[],s=[];a.forEach((function(e,t){o.push(r.a.createElement(z,{active:i===t,limit:n,value:e})),s.push(r.a.createElement(M,{value:t},"#progress ",t))}));var l=c.map((function(e){return r.a.createElement(q.a,{key:e,className:"barAction",onClick:function(){return function(e){t(j({point:e}))}(e)}},e>0?"+".concat(e):e)}));return r.a.createElement("div",{className:"appContainer","data-testid":"progressBars"},r.a.createElement("h1",null,"Progress Bars Demo"),r.a.createElement("h3",{style:{color:"gray"}},"Author: Dao Nam Tien"),r.a.createElement("h3",{style:{color:"gray",marginBottom:"5%"}},"Limit: ",n),r.a.createElement("div",{className:"barContainer"},o),r.a.createElement("div",{className:"barActions"},r.a.createElement(H.a,{value:i,onChange:function(e){t(O({barIndex:e}))},placeholder:"Please select",style:{marginRight:10},className:"barAction"},s),l))})),$=Object(o.b)((function(e){return{bars:e.bar.bars}}))((function(e){return 0===e.bars.length?r.a.createElement(R,null):r.a.createElement(S,null)})),F=function(){return r.a.createElement(o.a,{store:P},r.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(F,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[126,1,2]]]);
//# sourceMappingURL=main.c03b4207.chunk.js.map